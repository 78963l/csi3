{{define "items2" }}

<div class="p-3">

<!-- Modal: Add Comment-->
<div class="modal fade" id="addcomment" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content bg-darkmode">
			<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Add Comment</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true" class="text-darkmode">&times;</span>
			</button>
			</div>
			<div class="modal-body">				
				<input type="hidden" class="form-control" id="add-comment-name">
				<input type="hidden" class="form-control" id="add-comment-userid">
				<div class="form-group">
					<label for="comment-text" class="col-form-label">Comment:</label>
					<textarea class="form-control" id="add-comment-text" rows="3"></textarea>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-darkmode" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-outline-warning" onclick="addComment('{{$.SearchOption.Project}}', document.getElementById('add-comment-name').value, document.getElementById('add-comment-text').value, document.getElementById('add-comment-userid').value, '{{$.User.Token}}')" data-dismiss="modal">ADD</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal: Set Note-->
<div class="modal fade" id="setnote" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content bg-darkmode">
			<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Set Note</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true" class="text-darkmode">&times;</span>
			</button>
			</div>
			<div class="modal-body">
				<input type="hidden" class="form-control" id="set-note-name">
				<input type="hidden" class="form-control" id="set-note-userid">
				<div class="form-group">
					<label for="comment-text" class="col-form-label">Note:</label>
					<textarea class="form-control" id="set-note-text" rows="3"></textarea>
				</div>
				<div class="form-check">
					<input type="checkbox" id="set-note-overwrite" name="overwrite-note" class="form-check-input">
					<label class="form-check-label" for="set-note-overwrite">Overwrite</label>
				</div>
			</div>
			
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-darkmode" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-outline-warning" onclick="setNote('{{$.SearchOption.Project}}', document.getElementById('set-note-name').value, document.getElementById('set-note-text').value, document.getElementById('set-note-userid').value, document.getElementById('set-note-overwrite').value, '{{$.User.Token}}')" data-dismiss="modal">Edit</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal: Set Rnum-->
<div class="modal fade" id="setrnum" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content bg-darkmode">
			<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Set Roll Number</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true" class="text-darkmode">&times;</span>
			</button>
			</div>
			<div class="modal-body">				
				<input type="hidden" class="form-control" id="set-rnum-name">
				<input type="hidden" class="form-control" id="set-rnum-userid">
				<div class="form-group">
					<label for="comment-text" class="col-form-label">Roll Number:</label>
					<input type="text" class="form-control" id="set-rnum-text">
					<small class="form-text text-muted">A0001 형태로 각 권을 뜻하는 A,B,C,D,E,F 문자와 편집본 순서를 입력해주세요.</small>
				</div>
			</div>
			
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-darkmode" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-outline-warning" onclick="setRnum('{{$.SearchOption.Project}}', document.getElementById('set-rnum-name').value, document.getElementById('set-rnum-text').value, document.getElementById('set-rnum-userid').value, '{{$.User.Token}}')" data-dismiss="modal">Edit</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal: Add Source-->
<div class="modal fade" id="addsource" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content bg-darkmode">
			<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Add Source</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true" class="text-darkmode">&times;</span>
			</button>
			</div>
			<div class="modal-body">				
				<input type="hidden" class="form-control" id="add-source-name">
				<input type="hidden" class="form-control" id="add-source-userid">
				<div class="form-group">
					<div class="form-group">
						<label for="multi-input-title" class="col-form-label">Title:</label>
						<input type="text" class="form-control" id="add-source-title">
					</div>
					<div class="form-group">
						<label for="multi-input-link" class="col-form-label">Path or URL:</label>
						<input type="text" class="form-control" id="add-source-path">
					</div>
				</div>
			</div>
			
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-darkmode" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-outline-warning" onclick="addSource('{{$.SearchOption.Project}}', document.getElementById('add-source-name').value, document.getElementById('add-source-title').value, document.getElementById('add-source-path').value, document.getElementById('add-source-userid').value, '{{$.User.Token}}')" data-dismiss="modal">ADD</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal: Rm Source-->
<div class="modal fade" id="rmsource" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content bg-darkmode">
			<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Rm Source</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true" class="text-darkmode">&times;</span>
			</button>
			</div>
			<div class="modal-body">				
				<input type="hidden" class="form-control" id="rm-source-name">
				<input type="hidden" class="form-control" id="rm-source-userid">
				<div class="form-group">
					<div class="form-group">
						<label for="multi-input-title" class="col-form-label">Title:</label>
						<input type="text" class="form-control" id="rm-source-title">
						<small class="text-danger">삭제할 소스의 이름을 입력해주세요.</small>
					</div>
				</div>
			</div>
			
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-darkmode" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-outline-danger" onclick="rmSource('{{$.SearchOption.Project}}', document.getElementById('rm-source-name').value, document.getElementById('rm-source-title').value, document.getElementById('rm-source-userid').value, '{{$.User.Token}}')" data-dismiss="modal">REMOVE</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal: Add Tag-->
<div class="modal fade" id="addtag" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content bg-darkmode">
			<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Add Tag</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true" class="text-darkmode">&times;</span>
			</button>
			</div>
			<div class="modal-body">				
				<input type="hidden" class="form-control" id="add-tag-name">
				<input type="hidden" class="form-control" id="add-tag-userid">
				<div class="form-group">
					<div class="form-group">
						<label for="multi-input-title" class="col-form-label">Tag:</label>
						<input type="text" class="form-control" id="add-tag-text">
					</div>
				</div>
			</div>
			
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-darkmode" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-outline-warning" onclick="addTag('{{$.SearchOption.Project}}', document.getElementById('add-tag-name').value, document.getElementById('add-tag-text').value, document.getElementById('add-tag-userid').value, '{{$.User.Token}}')" data-dismiss="modal">ADD</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal: Rm Source-->
<div class="modal fade" id="rmtag" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content bg-darkmode">
			<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Rm Tag</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true" class="text-darkmode">&times;</span>
			</button>
			</div>
			<div class="modal-body">				
				<input type="hidden" class="form-control" id="rm-tag-name">
				<input type="hidden" class="form-control" id="rm-tag-userid">
				<div class="form-group">
					<div class="form-group">
						<label for="multi-input-title" class="col-form-label">Tag:</label>
						<input type="text" class="form-control" id="rm-tag-text">
						<small class="text-danger">삭제할 태그명을 입력해주세요.</small>
					</div>
				</div>
			</div>
			
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-darkmode" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-outline-danger" onclick="rmTag('{{$.SearchOption.Project}}', document.getElementById('rm-tag-name').value, document.getElementById('rm-tag-text').value, document.getElementById('rm-tag-userid').value, '{{$.User.Token}}')" data-dismiss="modal">REMOVE</button>
			</div>
		</div>
	</div>
</div>


<!-- Modal: Rm Comment-->
<div class="modal fade" id="rmcomment" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content bg-darkmode">
			<div class="modal-header">
			<h5 class="modal-title" id="exampleModalLabel">Rm Comment</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true" class="text-darkmode">&times;</span>
			</button>
			</div>
			<div class="modal-body">				
				<input type="hidden" class="form-control" id="rm-comment-name">
				<input type="hidden" class="form-control" id="rm-comment-time">
				<input type="hidden" class="form-control" id="rm-comment-userid">
				<div class="form-group">
					<label for="comment-text" class="col-form-label">아래 내용을 삭제하겠습니까?</label>
					<textarea class="form-control" id="rm-comment-text" rows="4" disabled></textarea>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-darkmode" data-dismiss="modal">Close</button>
				<button type="button" class="btn btn-outline-danger" onclick="rmComment('{{$.SearchOption.Project}}', document.getElementById('rm-comment-name').value, document.getElementById('rm-comment-time').value, document.getElementById('rm-comment-userid').value, '{{$.User.Token}}')" data-dismiss="modal">DELETE</button>
			</div>
		</div>
	</div>
</div>

{{range .Items}}
<div class="pt-1"></div>

<div class="row">
	<div class="col-sm-12 col-md-6 col-lg-2">
		<!--Thumbnail-->
		<div class="row">
			{{if eq .Type "org" "left" "asset"}}
				<input type="checkbox" class="form-check-input" id="{{.Name}}" name="selectID" style="opacity:0; position:absolute;">
			{{end}}
			<div class="thumbnailbox ml-1">
				{{if eq .Type "org" "left" "asset"}}
					<!--org,left,asset 만 선택할 수 있어야 한다.-->
					<label class="p-0 m-0 thumbnail" for="{{.Name}}" onclick="selectCheckbox()">
						<img src="/thumbnail/{{$.SearchOption.Project}}/{{.ID}}.jpg" onerror="this.src='/assets/img/none.jpg'" class="thumbnail border-{{Status2string .Status}}">
					</label>
				{{else}}
					<img src="/thumbnail/{{$.SearchOption.Project}}/{{.ID}}.jpg" onerror="this.src='/assets/img/none.jpg'" class="thumbnail border-{{Status2string .Status}}">
				{{end}}
				<div class="top-left">
					{{if eq .Type "org" "left"}}
						<div class="row" id="rnum-{{.Name}}">
							{{if .Rnum}}
								<span class="black-opbg" {{if eq $.User.AccessLevel 5 6 7 8 9 10}} data-toggle="modal" data-target="#setrnum" onclick="setModal('set-rnum-text', '{{.Rnum}}' );setModal('set-rnum-name', '{{.Name}}');setModal('set-rnum-userid', '{{$.User.ID}}')"{{end}}>{{.Rnum}}</span>
							{{else}}
								<span class="black-opbg" {{if eq $.User.AccessLevel 5 6 7 8 9 10}} data-toggle="modal" data-target="#setrnum" onclick="setModal('set-rnum-text', '' );setModal('set-rnum-name', '{{.Name}}');setModal('set-rnum-userid', '{{$.User.ID}}')"{{end}}>no rnum</span>
							{{end}}
						</div>
					{{end}}
					{{if .Ddline3d}}
						<div class="row">
							<span class="black-opbg">3D:{{ToShortTime .Ddline3d}}</span>
						</div>
					{{end}}
					{{if .Ddline2d}}
						<div class="row">
							<span class="black-opbg">2D:{{ToShortTime .Ddline2d}}</span>
						</div>
					{{end}}
				</div>
				<div class="centered-top"><a href="mailto:?subject=[{{$.Projectinfo.MailHead}}] {{.Name}}" class="text-white black-opbg">{{.Name}}</a></div>
				<div class="top-right">
					{{if .Platesize}}
						<div class="row">
							<span class="black-opbg">S: {{.Platesize}}</span>
						</div>
					{{end}}
					{{if .Dsize}}
						<div class="row">
							<span class="black-opbg">U: {{.Dsize}}</span>
						</div>
					{{end}}
					{{if or .Rendersize .Dsize}}
						<div class="row">
							<span class="black-opbg">R: {{if .Rendersize}}{{.Rendersize}}{{else}}{{.Dsize}}{{end}}</span>
						</div>
					{{end}}
				</div>
				<div class="centered">
					{{if eq .Status "2"}}
						{{if .Finver}}
							v{{.Finver}}
						{{end}}
						{{if .Findate}}
							({{ToShortTime .Findate}})
						{{end}}
					{{end}}
				</div>
				<div class="centered-bottom">
					{{if eq .Type "asset"}}
						<span class="badge badge-light">{{.Assettype}}</span>
						{{if .CrowdAsset}}
							<span class="badge badge-warning">Crowd</span>
						{{end}}
					{{else}}
						<!--재스캔 사용 플레이트 표기-->
						{{if eq .Type "org" "left"}}
							{{if .UseType}}
								<span class="badge badge-light">{{.UseType}}</span>
							{{else}}
								<span class="badge badge-light">{{.Type}}</span>
							{{end}}
						{{else}}
							<span class="badge badge-light">{{.Type}}</span>
						{{end}}
						<span class="badge badge-light">{{.Shottype}}</span>
					{{end}}
				</div>
				<div class="centered-left"></div>
				<div class="centered-right">
					<!--Retime-->
					<div class="row">
						{{if .Retimeplate}}
							<a href="dilink://{{.Retimeplate}}" class="badge badge-danger">R</a>
						{{end}}
					</div>
					<!--Just Mark-->
					<div class="row">
						{{if and .JustIn .JustOut}}
							<span class="badge badge-warning mt-1">J</span>
						{{end}}
					</div>
					<!--OCIOcc-->
					<div class="row">
						{{if .OCIOcc}}
							<span class="badge badge-info mt-1">N</span>
						{{end}}
					</div>
				</div>
				<div class="bottom-left">
					<div class="row">
						{{if and .HandleIn .HandleOut}}
							<span class="text-white black-opbg" title="handle">({{.HandleIn}}/{{.HandleOut}})</span>
						{{end}}
					</div>
					<div class="row">
						{{if .PlateIn}}
							<span class="text-white black-opbg" title="platein">{{.PlateIn}}</span>
						{{end}}
					</div>
					<div class="row">
						
						{{if .JustIn}}
							<span class="text-warning black-opbg" title="justin">{{.JustIn}}</span>
						{{end}}
					</div>
					<div class="row">
						{{if .JustTimecodeIn}}
							<span class="text-warning black-opbg">{{.JustTimecodeIn}}</span>
						{{else}}
							{{if .ScanTimecodeIn}}
								<span class="text-white black-opbg">{{.ScanTimecodeIn}}</span>
							{{end}}
						{{end}}
					</div>
				</div>
				<div class="bottom-right">
					<div class="row">
						<span class="text-white black-opbg" title="plateout">
							{{if .PlateOut}}
								{{.PlateOut}}
							{{end}}
							{{if and .PlateIn .PlateOut}}
								({{Framecal .PlateIn .PlateOut}})
							{{end}}
						</span>
					</div>
					<div class="row">
						<span class="text-warning black-opbg" title="justout">
							{{if .JustOut}}
								{{.JustOut}}
							{{end}}
							{{if and .JustIn .JustOut}}
								({{Framecal .JustIn .JustOut}})
							{{end}}
						</span>
					</div>
					<div class="row">
						{{if .JustTimecodeOut}}
							<span class="text-warning black-opbg">{{.JustTimecodeOut}}</span>
						{{else}}
							{{if .ScanTimecodeOut}}
								<span class="text-white black-opbg">{{.ScanTimecodeOut}}</span>
							{{end}}
						{{end}}
					</div>

				</div>
			</div>
		</div>

		
		<div class="row">
			<div class="mx-auto pt-1">
				{{if eq .Type "org" "left" "asset"}}
					{{if .Thummov}}
						<a href="dilink://{{.Thummov}}">
					{{else}}
						<a href="dilink:///show/{{$.SearchOption.Project}}/seq/{{name2seq .Name}}/{{.Name}}/plate/{{.ID}}.mov">
					{{end}}
						<span class="play">▶</span>
					</a>
				{{end}}
				{{if .Updatetime|CheckUpdate}}
					<span class="badge badge-warning">UPDATE {{ToHumantime .Updatetime}}</span>
				{{end}}
			
				{{if eq .Type "asset" -}}
					<a href="/edititem?type=item&project={{$.SearchOption.Project}}&slug={{.Slug}}" class="badge badge-danger ml-1">Edit</a>
					<a href="dilink:///show/{{$.SearchOption.Project}}/assets/{{.Assettype}}/{{.Name}}" class="badge badge-darkmode ml-1">File</a>
				{{- else -}}
					<a href="/edititem?type=item&project={{$.SearchOption.Project}}&slug={{.Slug}}" class="badge badge-danger ml-1">Edit</a>
					<a href="dilink:///show/{{$.SearchOption.Project}}/seq/{{name2seq .Name}}/{{.Name}}" class="badge badge-darkmode ml-1">File</a>
				{{- end}}
				<a href="{{$.Dilog}}/search?tool=csi&project={{$.SearchOption.Project}}&slug={{.Name}}" class="badge badge-darkmode ml-1">Log</a>
			</div>
		</div>
	</div>


	<!--Task-->
	<div class="col-sm-12 col-md-6 col-lg-2">
		
		<div class="ml-0 mb-3">
			{{if .Rollmedia}}
				<!--onset Setellite-->
				<div class="row">
					
					<a href="/setellite?project={{.Project}}&searchword={{.Rollmedia}}" class="badge badge-done text-dark" target="_blink">onset</a>
					
				</div>
			{{end}}
			
			<!--concept-->
			{{if eq .Concept.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Concept.Status}} statusbox{{CheckDate .Concept.Predate .Concept.Date .Concept.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Concept.Status}}">concept</span>
						{{if .Concept.Predate}}
							<span class="badge badge-light">{{ToShortTime .Concept.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Concept.Date}}</span>
						<span class="badge badge-light">{{ .Concept.User }}</span>
						{{if .Concept.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Concept.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						{{if eq .Type "asset" }}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/assets/{{.Assettype}}/{{.Name}}/concept/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{else}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/concept/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{end}}
					</h5>
				</div>
			{{end}}

			<!--model-->
			{{if eq .Model.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Model.Status}} statusbox{{CheckDate .Model.Predate .Model.Date .Model.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Model.Status}}">model</span>
						{{if .Model.Predate}}
							<span class="badge badge-light">{{ToShortTime .Model.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Model.Date}}</span>
						<span class="badge badge-light">{{ .Model.User }}</span>
						{{if .Model.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Model.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						{{if eq .Type "asset" }}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/assets/{{.Assettype}}/{{.Name}}/model/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{else}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/model/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{end}}
					</h5>
				</div>
			{{end}}

			<!--mm-->
			{{if eq .Mm.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Mm.Status}} statusbox{{CheckDate .Mm.Predate .Mm.Date .Mm.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Mm.Status}}">mm</span>
						{{if .Mm.Predate}}
							<span class="badge badge-light">{{ToShortTime .Mm.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Mm.Date}}</span>
						<span class="badge badge-light">{{ .Mm.User }}</span>
						{{if .Mm.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Mm.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/matchmove/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
					</h5>
				</div>
			{{end}}

			<!--layout-->
			{{if eq .Layout.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Layout.Status}} statusbox{{CheckDate .Layout.Predate .Layout.Date .Layout.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Layout.Status}}">layout</span>
						{{if .Layout.Predate}}
							<span class="badge badge-light">{{ToShortTime .Layout.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Layout.Date}}</span>
						<span class="badge badge-light">{{ .Layout.User }}</span>
						{{if .Layout.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Layout.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/layout/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
					</h5>
				</div>
			{{end}}

			<!--ani-->
			{{if eq .Ani.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Ani.Status}} statusbox{{CheckDate .Ani.Predate .Ani.Date .Ani.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Ani.Status}}">ani</span>
						{{if .Ani.Predate}}
							<span class="badge badge-light">{{ToShortTime .Ani.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Ani.Date}}</span>
						<span class="badge badge-light">{{ .Ani.User }}</span>
						{{if .Ani.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Ani.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						{{if eq .Type "asset"}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/assets/{{.Assettype}}/{{.Name}}/ani/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{else}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/ani/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{end}}
					</h5>
				</div>
			{{end}}
			<!--fx-->
			{{if eq .Fx.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Fx.Status}} statusbox{{CheckDate .Fx.Predate .Fx.Date .Fx.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Fx.Status}}">fx</span>
						{{if .Fx.Predate}}
							<span class="badge badge-light">{{ToShortTime .Fx.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Fx.Date}}</span>
						<span class="badge badge-light">{{ .Fx.User }}</span>
						{{if .Fx.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Fx.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/fx/dev{{if Username2Elements .Fx.User}}?elements={{Username2Elements .Fx.User}}{{end}}" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
					</h5>
				</div>
			{{end}}

			<!--motion-->
			{{if eq .Mg.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Mg.Status}} statusbox{{CheckDate .Mg.Predate .Mg.Date .Mg.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Mg.Status}}">motion</span>
						{{if .Mg.Predate}}
							<span class="badge badge-light">{{ToShortTime .Mg.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Mg.Date}}</span>
						<span class="badge badge-light">{{ .Mg.User }}</span>
						{{if .Mg.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Mg.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/mg/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
					</h5>
				</div>
			{{end}}

			<!--temp1-->
			{{if eq .Temp1.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Temp1.Status}} statusbox{{CheckDate .Temp1.Predate .Temp1.Date .Temp1.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Temp1.Status}}">{{if .Temp1.Title}}{{.Temp1.Title}}{{else}}temp1{{end}}</span>
						{{if .Temp1.Predate}}
							<span class="badge badge-light">{{ToShortTime .Temp1.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Temp1.Date}}</span>
						<span class="badge badge-light">{{ .Temp1.User }}</span>
						{{if .Temp1.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Temp1.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/{{.Temp1.Title}}" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
					</h5>
				</div>
			{{end}}

			<!--previz-->
			{{if eq .Previz.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Previz.Status}} statusbox{{CheckDate .Previz.Predate .Previz.Date .Previz.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Previz.Status}}">previz</span>
						{{if .Previz.Predate}}
							<span class="badge badge-light">{{ToShortTime .Previz.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Previz.Date}}</span>
						<span class="badge badge-light">{{ .Previz.User }}</span>
						{{if .Previz.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Previz.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/previz/product/out" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
					</h5>
				</div>
			{{end}}
			<!--fur-->
			{{if eq .Fur.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Fur.Status}} statusbox{{CheckDate .Fur.Predate .Fur.Date .Fur.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Fur.Status}}">fur</span>
						{{if .Fur.Predate}}
							<span class="badge badge-light">{{ToShortTime .Fur.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Fur.Date}}</span>
						<span class="badge badge-light">{{ .Fur.User }}</span>
						{{if .Fur.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Fur.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						{{if eq .Type "asset"}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/assets/{{.Assettype}}/{{.Name}}/fur/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{else}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/fursim/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{end}}
					</h5>
				</div>
			{{end}}
			<!--sim-->
			{{if eq .Sim.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Sim.Status}} statusbox{{CheckDate .Sim.Predate .Sim.Date .Sim.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Sim.Status}}">sim</span>
						{{if .Sim.Predate}}
							<span class="badge badge-light">{{ToShortTime .Sim.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Sim.Date}}</span>
						<span class="badge badge-light">{{ .Sim.User }}</span>
						{{if .Sim.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Sim.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						{{if eq .Type "asset"}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/assets/{{.Assettype}}/{{.Name}}/rig/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{else}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/sim/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{end}}
					</h5>
				</div>
			{{end}}

			<!--crowd-->
			{{if eq .Crowd.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Crowd.Status}} statusbox{{CheckDate .Crowd.Predate .Crowd.Date .Crowd.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Crowd.Status}}">crowd</span>
						{{if .Crowd.Predate}}
							<span class="badge badge-light">{{ToShortTime .Crowd.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Crowd.Date}}</span>
						<span class="badge badge-light">{{ .Crowd.User }}</span>
						{{if .Crowd.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Crowd.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/crowd/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
					</h5>
				</div>
			{{end}}

			<!--light-->
			{{if eq .Light.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Light.Status}} statusbox{{CheckDate .Light.Predate .Light.Date .Light.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Light.Status}}">
							{{if eq .Type "asset"}}
								look
							{{else}}
								light
							{{end}}
						</span>
						{{if .Light.Predate}}
							<span class="badge badge-light">{{ToShortTime .Light.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Light.Date}}</span>
						<span class="badge badge-light">{{ .Light.User }}</span>
						{{if .Light.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Light.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						{{if eq .Type "asset"}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/assets/{{.Assettype}}/{{.Name}}/lookdev/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{else}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/light/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{end}}
					</h5>
				</div>
			{{end}}
			<!--comp-->
			{{if eq .Comp.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Comp.Status}} statusbox{{CheckDate .Comp.Predate .Comp.Date .Comp.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Comp.Status}}">comp</span>
						{{if .Comp.Predate}}
							<span class="badge badge-light">{{ToShortTime .Comp.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Comp.Date}}</span>
						<span class="badge badge-light">{{ .Comp.User }}</span>
						{{if .Comp.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Comp.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						{{if eq .Type "asset"}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/assets/comp/nk" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{else}}
							<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/comp/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
						{{end}}
					</h5>
				</div>
			{{end}}
			<!--matte-->
			{{if eq .Matte.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Matte.Status}} statusbox{{CheckDate .Matte.Predate .Matte.Date .Matte.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Matte.Status}}">matte</span>
						{{if .Matte.Predate}}
							<span class="badge badge-light">{{ToShortTime .Matte.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Matte.Date}}</span>
						<span class="badge badge-light">{{ .Matte.User }}</span>
						{{if .Matte.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Matte.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/matte/pub" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
					</h5>
				</div>
			{{end}}
			<!--env-->
			{{if eq .Env.Status "1" "2" "3" "4" "5" "6" "7" "8" "9" }}
				<div class="row">
					<h5 class="p-0 m-0">
						<span class="badge badge-{{Status2string .Env.Status}} statusbox{{CheckDate .Env.Predate .Env.Date .Env.Mdate $.SearchOption.Searchword}}" title="{{Status2string .Env.Status}}">env</span>
						{{if .Env.Predate}}
							<span class="badge badge-light">{{ToShortTime .Env.Predate}}</span>
						{{end}}
						<span class="badge badge-light">{{ToShortTime .Env.Date}}</span>
						<span class="badge badge-light">{{ .Env.User }}</span>
						{{if .Env.Mov }}
							<a class="badge badge-light" href="dilink://{{if .Beforemov}}{{.Beforemov}};{{end}}{{.Env.Mov}}{{if .Aftermov}};{{.Aftermov}}{{end}}">▶</a>
						{{end}}
						<a class="badge badge-light" href="{{$.Wfs}}/show/{{$.SearchOption.Project}}/seq/{{.Seq}}/{{.Name}}/env/dev" onclick="window.open(this.href, 'nuke', 'left=20, top=20, width=500, height=500, toolbar=0, resizable=1, scrollbars=1').focus(); return false;">F</a>
					</h5>
				</div>
			{{end}}
		</div>
	</div>
	<!--작업내용 & Source-->
	{{$name := .Name}}
	<div class="col-sm-12 col-md-12 col-lg-4">
		<!--Tags-->
		<div class="row">
			<span class="text-badge">Tags:</span>
			{{if eq .Type "asset"}}
				{{range .Assettags}}
					<a href="/inputmode?project={{$.SearchOption.Project}}&
						searchword=assettags:{{.}}&
						sortkey={{$.SearchOption.Sortkey}}&
						sortkey={{$.SearchOption.Sortkey}}&
						assign={{$.SearchOption.Assign}}&
						ready={{$.SearchOption.Ready}}&
						wip={{$.SearchOption.Wip}}&
						confirm={{$.SearchOption.Confirm}}&
						done={{$.SearchOption.Done}}&
						omit={{$.SearchOption.Omit}}&
						hold={{$.SearchOption.Hold}}&
						out={{$.SearchOption.Out}}&
						none={{$.SearchOption.None}}&
						template={{$.SearchOption.Template}}&
						task={{$.SearchOption.Task}}" class="badge badge-outline-darkmode ml-1">{{.}}</a>
				{{- end}}
			{{end}}
			<div id="tags-{{.Name}}" class="row ml-2">
				{{range .Tag}}
					<div id="tag-{{$name}}-{{.}}">
						<a href="/inputmode?project={{$.SearchOption.Project}}&
						searchword=tag:{{.}}&
						sortkey={{$.SearchOption.Sortkey}}&
						sortkey={{$.SearchOption.Sortkey}}&
						assign={{$.SearchOption.Assign}}&
						ready={{$.SearchOption.Ready}}&
						wip={{$.SearchOption.Wip}}&
						confirm={{$.SearchOption.Confirm}}&
						done={{$.SearchOption.Done}}&
						omit={{$.SearchOption.Omit}}&
						hold={{$.SearchOption.Hold}}&
						out={{$.SearchOption.Out}}&
						none={{$.SearchOption.None}}&
						template={{$.SearchOption.Template}}&
						task={{$.SearchOption.Task}}" class="badge badge-outline-darkmode ml-1">{{.}}</a>
					</div>
				{{end}}
			</div>
			
			<div class="ml-3" id="tag-button-{{.Name}}">
				{{if eq .Type "org" "left" "asset"}}
					{{if eq $.User.AccessLevel 4 5 6 7 8 9 10}}
						<span class="add ml-1" data-toggle="modal" data-target="#addtag" onclick="setModal('add-tag-text', '' );setModal('add-source-name', '{{.Name}}');setModal('add-source-userid', '{{$.User.ID}}')">＋</span>
						{{if .Tag}}	
							<span class="remove ml-0" data-toggle="modal" data-target="#rmtag" onclick="setModal('rm-tag-text', '' );setModal('rm-source-name', '{{.Name}}');setModal('rm-source-userid', '{{$.User.ID}}')">－</span>
						{{end}}
					{{end}}
				{{end}}
			</div>
		</div>
		<!--작업내용-->
		<div class="row">
			<span class="text-badge">Note:</span>
		</div>
		<div class="ml-1 text-light small">
			{{if eq .Type "org" "left" "asset"}}
				{{if eq $.User.AccessLevel 5 6 7 8 9 10}}
					<div class="float-right" id="note-{{.Name}}-addbutton">
						<span class="add" data-toggle="modal" data-target="#setnote" onclick="setModal('set-note-text', '' );setModal('set-note-name', '{{.Name}}');setModal('set-note-userid', '{{$.User.ID}}')">＋</span>
					</div>
				{{end}}
			{{end}}
			<div id="note-{{.Name}}">{{range Split .Note.Text "\n" -}}{{.}}<br>{{- end}}</div>
			
		</div>
		{{if ne $.Devmode true}}
			<!--작업내용 legacy start-->
			<div class="ml-1 text-light small">
				{{range .Onsetnote | ReverseStringSlice -}}{{note2body .}}<br>{{- end}}
			</div>
			<!--작업내용 legacy end-->
		{{end}}
		
		<!--ObjectID-->
		{{if and .ObjectidIn .ObjectidOut}}
		<div class="row mt-2">
			<span class="text-badge">Object ID:</span>
			<span class="badge badge-warning">{{.ObjectidIn}}-{{.ObjectidOut}}</span>
		</div>
		{{end}}
		<!--ProductionCam-->
		<div class="row mt-2">
			<span class="text-badge">CamInfo:</span>
			{{if .ProductionCam.Projection}}
				<span class="badge badge-info ml-1">Projection</span>
			{{end}}
	
			{{if .ProductionCam.PubTask}}
				<span class="badge badge-info ml-1">{{.ProductionCam.PubTask}}</span>
			{{end}}
			
			{{if .ProductionCam.PubPath}}
				<a href="dilink://{{.ProductionCam.PubPath}}" class="badge badge-info ml-1">campath</a>
			{{end}}
		</div>
		
		<!--연결소스-->
		<div class="row">
			<span class="text-badge">Sources:</span>
		</div>

		<div class="ml-2 row">
			<div id="sources-{{.Name}}" class="row">
				{{range .Sources -}}
					<div id="source-{{$name}}-{{.Title}}">
						<a href="{{Protocol .Path}}://{{RmProtocol .Path}}" class="badge badge-outline-darkmode ml-1" alt="{{.Author}},{{.Date}}" title="{{.Author}},{{.Date}}" target="{{ProtocolTarget .Path}}">{{.Title}}</a>
					</div>
				{{- end}}
			</div>
			<div class="ml-3" id="source-button-{{.Name}}">
				{{if eq .Type "org" "left" "asset"}}
					{{if eq $.User.AccessLevel 4 5 6 7 8 9 10}}
						<span class="add ml-1" data-toggle="modal" data-target="#addsource" onclick="setModal('add-source-title', '' );setModal('add-source-path', '' );setModal('add-source-name', '{{.Name}}');setModal('add-source-userid', '{{$.User.ID}}')">＋</span>
						{{if .Sources}}	
							<span class="remove ml-0" data-toggle="modal" data-target="#rmsource" onclick="setModal('rm-source-title', '' );setModal('rm-source-name', '{{.Name}}');setModal('rm-source-userid', '{{$.User.ID}}')">－</span>
						{{end}}
					{{end}}
				{{end}}
			</div>
		</div>
		
		
		<!--Scaninfo-->
		<div class="row">
			<span class="text-badge">ScanInfo:</span>
			{{if .Scantime}}
				<span class="text-badge ml-1">{{ToShortTime .Scantime}}</span>
			{{end}}	
			{{if .Scanname}}
				<span class="text-badge ml-1" title="scanname">/ {{.Scanname}}</span>
			{{end}}
			{{if .ScanFrame}}
				<span class="text-badge ml-1" title="scanframe">/ {{.ScanFrame}} f</span>
			{{end}}
			{{if and .ScanTimecodeIn .ScanTimecodeOut}}
				<span class="text-badge ml-1">/ {{.ScanTimecodeIn}} ~ {{.ScanTimecodeOut}}</span>
			{{end}}
			
		</div>

	</div>

	<!--수정사항-->
	<div class="col-sm-12 col-md-12 col-lg-4">
		
		{{if eq $.User.AccessLevel 5 6 7 8 9 10}}
			<div class="float-right">
				<span class="add" data-toggle="modal" data-target="#addcomment" onclick="setModal('add-comment-name', '{{.Name}}');setModal('add-comment-userid', '{{$.User.ID}}')">＋</span>
			</div>
		{{end}}
		<div id="comments-{{.Name}}">
			{{range ReverseCommentSlice .Comments | CutCommentSlice}}
				<div id="comment-{{$name}}-{{.Date}}">
					<span class="text-badge">{{.Date}} / <a href="/user?id={{.Author}}" class="text-darkmode">{{.Author}}</a></span>
					{{if eq $.User.AccessLevel 5 6 7 8 9 10}}
						<span class="remove" data-toggle="modal" data-target="#rmcomment" onclick="setModal('rm-comment-name', '{{$name}}');setModal('rm-comment-time', '{{.Date}}');setModal('rm-comment-text', '{{.Text}}');setModal('rm-comment-userid', '{{$.User.ID}}')">×</span>
					{{end}}
					<br>
					<small class="text-white">
						{{range Split .Text "\n"}}
							{{.}}<br>
						{{end}}
					</small>
					<hr class="my-1 p-0 m-0 divider">
				</div>
			{{end}}
			{{if ne $.Devmode true}}
				<!--수정내용 legacy start-->
				{{range ReverseStringSlice .Pmnote | CutStringSlice -}}
					<small class="text-white">{{pmnote2body .}}</small><br>
					<hr class="my-1 p-0 m-0 divider">
				{{- end}}
				<!--수정내용 legacy end-->
			{{end}}
		</div>
	</div>
</div>
<hr class="item-divider my-4">
{{end}}
</div>

{{end}}